!function(n){var e={};function t(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return n[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}t.m=n,t.c=e,t.d=function(n,e,r){t.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:r})},t.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},t.t=function(n,e){if(1&e&&(n=t(n)),8&e)return n;if(4&e&&"object"==typeof n&&n&&n.__esModule)return n;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var o in n)t.d(r,o,function(e){return n[e]}.bind(null,o));return r},t.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(e,"a",e),e},t.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},t.p="",t(t.s=12)}([function(n,e,t){"use strict";t.d(e,"e",(function(){return r})),t.d(e,"f",(function(){return o})),t.d(e,"g",(function(){return a})),t.d(e,"b",(function(){return i})),t.d(e,"a",(function(){return c})),t.d(e,"h",(function(){return s})),t.d(e,"c",(function(){return u})),t.d(e,"d",(function(){return l})),t.d(e,"i",(function(){return f}));chrome.extension,chrome.storage;var r=chrome.storage.local,o=chrome.runtime,a=chrome.tabs,i=chrome.browserAction,c=chrome.cookies,s=chrome.webNavigation,u=chrome.contextMenus,l=chrome.i18n,f=chrome.windows;chrome.webRequest},function(n,e,t){"use strict";t.d(e,"a",(function(){return s}));var r=t(7),o=t(2);function a(n,e,t,r,o,a,i){try{var c=n[a](i),s=c.value}catch(n){return void t(n)}c.done?e(s):Promise.resolve(s).then(r,o)}function i(n){return function(){var e=this,t=arguments;return new Promise((function(r,o){var i=n.apply(e,t);function c(n){a(i,r,o,c,s,"next",n)}function s(n){a(i,r,o,c,s,"throw",n)}c(void 0)}))}}function c(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var s=function(){function n(){!function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);var e=r.a.getDomain();this.urlPrefix="".concat(e,"/api/v1/"),this.accountPrefix="".concat(r.a.getAccountDomain(),"/"),this.noPrepend=!1,this.responseType=void 0}var e,t,a;return e=n,(t=[{key:"setNoPrepend",value:function(n){return this.noPrepend=n,this}},{key:"setResponseType",value:function(n){return this.responseType=n,this}},{key:"ajaxWithoutData",value:function(n,e,t,r){var a=this;return new Promise(function(){var c=i(regeneratorRuntime.mark((function i(c,s){var u,l;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return(u=new XMLHttpRequest).onload=function(){r||"blob"===this.responseType?c(this.response):c(this.responseText)},u.onerror=function(n){s(n)},u.open(n,a.prependUrl(e,t,r)),i.next=6,Object(o.c)("znbcsr");case 6:if(l=i.sent){i.next=10;break}return s(),i.abrupt("return");case 10:r&&(u.responseType="blob",u.setRequestHeader("processData",!1),u.setRequestHeader("contentType",!1)),a.responseType&&(u.responseType=a.responseType),u.setRequestHeader("X-ZCSRF-TOKEN","znbrcsr="+l.znbcsr),u.send();case 14:case"end":return i.stop()}}),i)})));return function(n,e){return c.apply(this,arguments)}}())}},{key:"ajaxWithData",value:function(n,e,t){var r=this;return new Promise(function(){var a=i(regeneratorRuntime.mark((function a(i,c){var s,u;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return(s=new XMLHttpRequest).onload=function(n){i(this.responseText)},s.onerror=function(n){c(n)},s.open(n,r.prependUrl(e)),a.next=6,Object(o.c)("znbcsr");case 6:if(u=a.sent){a.next=10;break}return c(),a.abrupt("return");case 10:s.setRequestHeader("X-ZCSRF-TOKEN","znbrcsr="+u.znbcsr),s.send(t);case 12:case"end":return a.stop()}}),a)})));return function(n,e){return a.apply(this,arguments)}}())}},{key:"prependUrl",value:function(n,e,t){return t||this.noPrepend?n:e?"".concat(this.accountPrefix).concat(n):"".concat(this.urlPrefix).concat(n)}}])&&c(e.prototype,t),a&&c(e,a),n}()},function(n,e,t){"use strict";t.d(e,"b",(function(){return o})),t.d(e,"c",(function(){return a})),t.d(e,"g",(function(){return i})),t.d(e,"d",(function(){return c})),t.d(e,"a",(function(){return s})),t.d(e,"e",(function(){return u})),t.d(e,"f",(function(){return l}));var r=t(0);function o(n){return new Promise((function(e,t){try{r.a.get(n,(function(n){e(n)}))}catch(n){e(void 0)}}))}function a(n){return new Promise((function(e,t){try{r.e.get(n,(function(n){e(n)}))}catch(n){e(void 0)}}))}function i(n){return new Promise((function(e,t){try{r.e.set(n,(function(){e(!0)}))}catch(n){e(!1)}}))}function c(n){return new Promise((function(e,t){try{r.e.remove(n,(function(){e(!0)}))}catch(n){e(!1)}}))}function s(n){return new Promise((function(e,t){try{r.i.create(n,(function(n){e(n)}))}catch(n){e(void 0)}}))}function u(n){return new Promise((function(e,t){try{r.f.sendMessage(n,(function(n){e(n)}))}catch(n){e(void 0)}}))}function l(n,e){return new Promise((function(t,o){try{r.g.sendMessage(n,e,(function(n){t(n)}))}catch(n){t(void 0)}}))}},function(n,e,t){"use strict";t.d(e,"a",(function(){return r}));var r={SEND_ANALYTICS:1e3,SIGN_IN:1001,USER_WINDOW:1002,DOWNLOAD_BOOK_LIST:1003,INIT_WINDOW:1004,GET_TAB_ID:1005,GET_DOCUMENT:1006,INIT_READER_VIEW:1007,DISPLAY_READER_FRAME:1008,GET_STATUS:1009,CREATE_TAG:1010,SEARCH_TAG:1011,SEND_FEEDBACK:1012,SIGN_OUT:1013,GET_ALL_TAGS:1014,SEARCH_TAG_FROM_LIST:1015,FETCH_ANNOUNCEMENT:1016,SHOW_MEETING_NOTE:1017,SAVE_MEETING_NOTE:1018,SHOW_RECIPE_POPUP:1019,CLOSE_RECIPE_POPUP:1020,SHOW_PDF_POPUP:1021,RESET_TOOLBAR_ICON:1022,SHOW_TOAST:1023,HIDE_TOAST:1024,GET_LOGIN_STATUS:1025,APP_LOADING:1026,PARTIAL_CAPTURE:1027,GET_USER_IMAGE:1028,PART_PAGE_SCREENSHOT:1029,FOCUSED_PAGE_SCREENSHOT:1030,GET_NB_DOMAIN:1031,PARTIAL_ANNOTATION_FUNC:1032,TAKE_SCREENSHOT:1033,GET_CURRENT_TAB:1034,SAVE_POSITION:1035,FETCH_NOTEBOOK_IMAGE:1036,FLUSH_CACHED_CARD:1037,FULL_PAGE_SCREENSHOT:1038,OPEN_ANNOTATOR:1039,SHOW_LOADING_IFRAME:1040,HIDE_LOADING_IFRAME:1041,DOWNLOAD_FROM_URL:1042}},function(n,e,t){"use strict";function r(n,e){return function(n,e){var t=n.getDate(),r=n.getMonth(),a=r+1,i=n.getFullYear(),c=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][r],s=n.getHours(),u=n.getMinutes(),l=n.getSeconds(),f="AM";s>=12&&(f="PM");s>12&&(s-=12);switch(e){case"dd-MMM, yyyy":return o(t)+"-"+c+", "+i;case"YYYY-MM-DDTHH:mm:SS+0530":return i+"-"+o(a)+"-"+o(t)+"T"+o(s)+":"+o(u)+":"+o(l)+"+0530";case"YYYY-MM-DDTHH:mm:SS+0000":return i+"-"+o(a)+"-"+o(t)+"T"+o(s)+":"+o(u)+":"+o(l)+"+0000";case"dd/MM/YYYY":return o(t)+"/"+o(a)+"/"+i;case"HH:mm:SS":return o(s)+":"+o(u)+":"+o(l);case"HH:mm M, MMM dd, yyyy":return o(s)+":"+o(u)+" "+f+", "+c+" "+o(t)+", "+i;default:return t+" "+c+" "+i}}(new Date(n),e)}function o(n){return n<10?"0"+n:""+n}t.d(e,"a",(function(){return r})),t.d(e,"b",(function(){return o}))},function(n,e,t){"use strict";t.d(e,"j",(function(){return l})),t.d(e,"e",(function(){return f})),t.d(e,"p",(function(){return d})),t.d(e,"u",(function(){return p})),t.d(e,"t",(function(){return m})),t.d(e,"l",(function(){return h})),t.d(e,"r",(function(){return v})),t.d(e,"q",(function(){return g})),t.d(e,"g",(function(){return b})),t.d(e,"s",(function(){return y})),t.d(e,"k",(function(){return w})),t.d(e,"m",(function(){return x})),t.d(e,"y",(function(){return O})),t.d(e,"f",(function(){return k})),t.d(e,"o",(function(){return S})),t.d(e,"w",(function(){return E})),t.d(e,"c",(function(){return T})),t.d(e,"h",(function(){return R})),t.d(e,"v",(function(){return _})),t.d(e,"x",(function(){return P})),t.d(e,"z",(function(){return F})),t.d(e,"a",(function(){return N})),t.d(e,"i",(function(){return C})),t.d(e,"d",(function(){return D})),t.d(e,"b",(function(){return L})),t.d(e,"n",(function(){return A}));var r=t(2),o=t(3),a=t(0),i=t(4),c=t(8);t(9);function s(n,e,t,r,o,a,i){try{var c=n[a](i),s=c.value}catch(n){return void t(n)}c.done?e(s):Promise.resolve(s).then(r,o)}function u(n){return function(){var e=this,t=arguments;return new Promise((function(r,o){var a=n.apply(e,t);function i(n){s(a,r,o,i,c,"next",n)}function c(n){s(a,r,o,i,c,"throw",n)}i(void 0)}))}}function l(){var n,e,t=navigator.userAgent,r=(navigator.appName,""+parseFloat(navigator.appVersion)),o=parseInt(navigator.appVersion,10);-1!=(n=t.indexOf("Chrome"))?("Chrome",r=t.substring(n+7)):t.lastIndexOf(" ")+1<(n=t.lastIndexOf("/"))&&(r=t.substring(n+1)),-1!=(e=r.indexOf(";"))&&(r=r.substring(0,e)),-1!=(e=r.indexOf(" "))&&(r=r.substring(0,e)),o=parseInt(""+r,10),isNaN(o)&&(r=""+parseFloat(navigator.appVersion),o=parseInt(navigator.appVersion,10));var i={platformVersion:r,deviceName:navigator.userAgent,deviceType:"Web"},c=a.f.getManifest().version;return i.appVersion=c,i.appName="Chrome Extension - "+c,i.platformName="Chrome",i}function f(){return(new Date).getTime()}function d(){var n=navigator.language;return"zh"===n||"zh-CN"===n||"zh-TW"===n}function p(n,e){document.createElement(n).constructor===HTMLElement&&customElements.define(n,e)}function m(n){return new Promise((function(e,t){for(var r=[],o=0,a=0;a<n.length;a++){var i=new FileReader;i.onload=c,i.readAsDataURL(n[a])}function c(){r.push(this.result),++o===n.length&&e(r)}}))}function h(){return new Promise(function(){var n=u(regeneratorRuntime.mark((function n(e,t){var i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(r.c)("notebookList");case 2:(i=n.sent)&&i.length||a.f.sendMessage({action:o.a.DOWNLOAD_BOOK_LIST},(function(n){var t=[];n&&(n=JSON.parse(n))&&g(n.code)&&(t=n.notebooks),e(t)}));case 4:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())}function v(n){return new Promise((function(e,t){if(fileMap[n])e(!0);else{var r=document.createElement("script");document.head.appendChild(r),r.onload=function(){fileMap[n]=!0,e(!0)},r.onerror=function(){t(!1)},r.src=n}}))}function g(n){return 200===n||201===n}function b(n){n&&(n.focus(),n.innerText&&y(n))}function y(n){var e,t;document.createRange?((e=document.createRange()).selectNodeContents(n),e.collapse(!1),(t=window.getSelection()).removeAllRanges(),t.addRange(e)):document.selection&&((e=document.body.createTextRange()).moveToElementText(n),e.collapse(!1),e.select())}function w(){var n,e,t,r,o=new Date;return o.getFullYear()+"-"+Object(i.b)(o.getMonth()+1)+"-"+Object(i.b)(o.getDate())+"T"+(Object(i.b)(o.getHours())+":"+Object(i.b)(o.getMinutes())+":"+Object(i.b)(o.getSeconds()))+(n=o.getTimezoneOffset()/60,e=n<0?"+":"-",t=Math.floor(Math.abs(n)),r=Math.floor(60*Math.abs(n)%60),e+Object(i.b)(t)+""+Object(i.b)(r))}function x(){return new Promise(function(){var n=u(regeneratorRuntime.mark((function n(e,t){var o,a,i,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(r.c)("userprofile");case 2:o=n.sent,a=void 0,o&&(a=o.userprofile)&&a.default_notecard_color&&"random"!==a.default_notecard_color.toLowerCase()&&e(a.default_notecard_color),c=(i=["#FFB47A","#FFEE8A","#FFC96C","#FFFFFF","#FF9575","#FF8785","#E9FF9D","#B3FFE8","#83D2FF","#CDC2FF","#F9D3FF","#D9E8F0"]).length,0,e(i[Math.floor(Math.random()*(c-0)+0)]);case 9:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())}function O(n){if(-1!==n.indexOf("rgb")){var e=(n=n.substring(n.indexOf("(")+1,n.indexOf(")"))).split(",");return"#"+(16777216+(e[2]|e[1]<<8|e[0]<<16)).toString(16).slice(1)}return n}function k(n){for(var e=n.split(","),t=e[0].match(/:(.*?);/)[1],r=atob(e[1]),o=r.length,a=new Uint8Array(o);o--;)a[o]=r.charCodeAt(o);return new Blob([a],{type:t})}function S(n,e){for(var t=0;t<n.length;t++){var r=n[t];r.is_read=!1;for(var o=0;o<e.length;o++){var a=e[o];if(a.announcement_id===r.announcement_id){r.is_read=a.is_read;break}}}return n}function E(n,e,t){return n?(n=(n=(n=(n=n.replace(/<article/g,"<div").replace(/<\/article>/g,"</div>")).replace(/<main/g,"<div").replace(/<\/main>/g,"</div>")).replace(/<section/g,"<div").replace(/<\/section>/g,"</div>")).replace(/<br>/g,"<br/>").replace(/<hr>/g,"<hr/>"),"true"===e&&function(n){n=Object(c.a)(n)}(n),n=(n=n.replace(/[\u2028\u2029]/gim,"<br />")).replace(/[\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/gim,""),"true"===t&&(n=n.replace(/"/g,"\\'")),n):n}function T(){return new Promise(function(){var n=u(regeneratorRuntime.mark((function n(e,t){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(r.d)("znbcsr");case 2:e(!0);case 3:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())}function R(n){if(n&&n.length){for(var e=document.createDocumentFragment(),t=0;t<n.length;t++){var r=document.createElement("div");r.id=n[t].notebook_id,r.classList.add("each-book"),r.innerText=n[t].name,e.appendChild(r)}return e}}function _(n,e){for(var t=(new DOMParser).parseFromString(n,"text/html"),r=t.querySelectorAll("script"),o=0;o<r.length;o++)r[o].parentElement.removeChild(r[o]);for(var a=t.querySelectorAll("iframe"),i=0;i<a.length;i++)a[i].parentElement.removeChild(a[i]);for(var c=t.querySelectorAll("style"),s=0;s<c.length;s++)c[s].parentElement.removeChild(c[s]);for(var u=t.querySelectorAll("button"),l=0;l<u.length;l++)u[l].parentElement.removeChild(u[l]);for(var f=t.querySelectorAll("input"),d=0;d<f.length;d++)f[d].parentElement.removeChild(f[d]);for(var p=t.querySelectorAll("textarea"),m=0;m<p.length;m++)p[m].parentElement.removeChild(p[m]);for(var h=t.querySelectorAll(".clipper-space"),v=0;v<h.length;v++){var g=document.createElement("div");g.innerHTML=h[v].innerHTML,h[v].parentElement.appendChild(g),h[v].parentElement.removeChild(h[v])}if(!e){for(var b=t.querySelectorAll("image-view"),y=0;y<b.length;y++)b[y].parentElement.removeChild(b[y]);for(var w=t.querySelectorAll("p"),x=0;x<w.length;x++)w[x].innerText&&w[x].innerText.trim()||w[x].querySelector("img")||w[x].parentElement.removeChild(w[x]);for(var O=t.querySelectorAll("br"),k=0;k<O.length;k++)O[k].innerText&&O[k].innerText.trim()||O[k].querySelector("img")||O[k].parentElement.removeChild(O[k]);for(var S=t.querySelectorAll("div"),E=0;E<S.length;E++)S[E].innerText&&S[E].innerText.trim()||S[E].querySelector("img")||S[E].parentElement.removeChild(S[E])}return t.body.innerHTML}function P(n){for(var e=(new DOMParser).parseFromString(n,"text/html"),t=e.querySelectorAll("image-view"),r=0;r<t.length;r++){var o=document.createTextNode("-()-");t[r].parentElement.replaceChild(o,t[r])}return"undefined"===e.body.innerHTML?"":e.body.innerHTML}function F(n,e){return new Promise(function(){var t=u(regeneratorRuntime.mark((function t(o,a){var i,c,s,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(r.c)("analyticsShown");case 2:for(i=t.sent,s=!0,i&&i.analyticsShown?c=i.analyticsShown:(c="[]",s=!0),c=JSON.parse(c),u=0;u<c.length;u++)c[u].zuid===e&&(c[u].shown=n,s=!1);return s&&c.push({shown:n,zuid:e}),t.next=10,Object(r.g)({analyticsShown:JSON.stringify(c)});case 10:o(!0);case 11:case"end":return t.stop()}}),t)})));return function(n,e){return t.apply(this,arguments)}}())}function N(n){return new Promise(function(){var e=u(regeneratorRuntime.mark((function e(t,o){var a,i,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(r.c)("analyticsShown");case 2:a=e.sent,i=a&&a.analyticsShown?a.analyticsShown:"[]",i=JSON.parse(i),c=0;case 6:if(!(c<i.length)){e.next=13;break}if(i[c].zuid!==n){e.next=10;break}return t(!1),e.abrupt("return");case 10:c++,e.next=6;break;case 13:t(!0);case 14:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}())}function C(n){return new Promise(function(){var e=u(regeneratorRuntime.mark((function e(t,o){var a,i,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(r.c)("analyticsShown");case 2:a=e.sent,i=a&&a.analyticsShown?a.analyticsShown:"[]",i=JSON.parse(i),c=0;case 6:if(!(c<i.length)){e.next=13;break}if(i[c].zuid!==n){e.next=10;break}return t(i[c].shown),e.abrupt("return");case 10:c++,e.next=6;break;case 13:t(!1);case 14:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}())}function D(n){return new Promise((function(e,t){var r=n.querySelectorAll("img");if(r&&r.length)for(var i=function(n){var t=r[n].src;if(!t)return"continue";a.f.sendMessage({action:o.a.DOWNLOAD_FROM_URL,data:{url:t}},(function(t){var o=document.createElement("image-view");o.setAttribute("image-data",t),o.setAttribute("dont_load_annotator",!0),o.id="image-view_"+f();var a=document.createElement("div"),i=document.createElement("div");i.innerHTML="<div class='clipper-space'><br></div>",a.appendChild(i),a.appendChild(o);var c=document.createElement("div");c.innerHTML="<div class='clipper-space'><br></div>",a.appendChild(c);var s=r[n].parentElement;s.removeChild(r[n]),s.appendChild(a),e(!0)}))},c=0;c<r.length;c++)i(c)}))}function L(n){for(var e=(new DOMParser).parseFromString(n,"text/html"),t=e.querySelectorAll("img"),r=0;r<t.length;r++)if(t[r].src&&-1===t[r].src.indexOf("http"))if(-1!==t[r].src.indexOf("moz-extension://")||-1!==t[r].src.indexOf("chrome-extension://")){var o=new URL(t[r].src);t[r].src=currentTab.url+o.pathname}else t[r].src=currentTab.url+t[r].src;return e.body.innerHTML}function A(n){if(!n||!n.trim())return"#212121";var e,t,r;if(n.match(/#/))e=function(n){return n=M(n),parseInt(n.substring(0,2),16)}(n),t=function(n){return n=M(n),parseInt(n.substring(2,4),16)}(n),r=function(n){return n=M(n),parseInt(n.substring(4,6),16)}(n);else{var o=n.substring(n.indexOf("(")+1,n.lastIndexOf(")")).split(/,\s*/);e=o[0],t=o[1],r=o[2]}return Math.round((299*parseInt(e)+587*parseInt(t)+114*parseInt(r))/1e3)>125?"#212121":"#FFFFFF"}function M(n){return"#"===n.charAt(0)?n.substring(1,7):n}},function(n,e,t){"use strict";function r(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}t.d(e,"a",(function(){return o}));var o=new(function(){function n(){!function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),this.eventListeners={}}var e,t,o;return e=n,(t=[{key:"addListener",value:function(n,e,t,r){if(e){var o=this.eventListeners[n];o||(this.eventListeners[n]=[],o=this.eventListeners[n]),o.push({element:e,type:t,func:r}),e.addEventListener(t,r)}}},{key:"clearAllListeners",value:function(n){var e=this.eventListeners[n];if(e)for(;e.length;){var t=e.pop();t&&t.element&&t.element.removeEventListener(t.type,t.func)}}}])&&r(e.prototype,t),o&&r(e,o),n}())},function(n,e,t){"use strict";function r(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}t.d(e,"a",(function(){return o}));var o=new(function(){function n(){!function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),this.setup="https://notebook.zoho",this.accountsSetup="https://accounts.zoho",this.topLevelDomain=".com"}var e,t,o;return e=n,(t=[{key:"setSetup",value:function(n){return this.setup=n,this}},{key:"setTopLevelDomain",value:function(n){return this.topLevelDomain=n,this}},{key:"getTopLevelDomain",value:function(){return this.topLevelDomain}},{key:"getAccountsSetup",value:function(){return this.accountsSetup}},{key:"getSetup",value:function(){return this.setup}},{key:"getDomain",value:function(){return this.setup+""+this.topLevelDomain}},{key:"getAccountDomain",value:function(){return this.accountsSetup+""+this.topLevelDomain}}])&&r(e.prototype,t),o&&r(e,o),n}())},function(n,e,t){"use strict";t.d(e,"a",(function(){return a}));var r={elements:["a","b","br","caption","cite","code","col","colgroup","dd","dl","dt","em","h1","h2","h3","h4","h5","h6","i","img","li","ol","p","q","small","strike","strong","sub","sup","table","tbody","td","tfoot","th","thead","tr","u","ul","div","span","figure","article","section"],attributes:{a:["href"],img:["type","height","src","width","duration","class","remotesrc","org-width","org-height","consumers","local-id"],col:["span","width"],colgroup:["span","width"],ol:["start","type"],q:["cite"],table:["summary","width"],td:["abbr","axis","colspan","rowspan","width"],th:["abbr","axis","colspan","rowspan","scope","width"],ul:["type"]},protocols:{a:{href:["http","https","mailto","tel"]},img:{src:["http","https","zresource"]}}};function o(n){for(var e=n.getElementsByTagName("style"),t=0;t<e.length;t++)e[t].parentNode.removeChild(e[t]);return n}function a(n){var e=document.createElement("div");e.innerHTML=n,e=o(e);var t=new Sanitize(r).clean_node(e),a=document.createElement("div");a.appendChild(t.cloneNode(!0));var i=a.innerHTML;return i=(i=i.replace(/[\u2028\u2029]/gim,"<br />")).replace(/[\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/gim,"")}},function(n,e,t){"use strict";t.d(e,"e",(function(){return u})),t.d(e,"k",(function(){return l})),t.d(e,"j",(function(){return f})),t.d(e,"a",(function(){return d})),t.d(e,"b",(function(){return p})),t.d(e,"o",(function(){return m})),t.d(e,"l",(function(){return h})),t.d(e,"c",(function(){return v})),t.d(e,"n",(function(){return g})),t.d(e,"q",(function(){return b})),t.d(e,"r",(function(){return y})),t.d(e,"p",(function(){return w})),t.d(e,"g",(function(){return x})),t.d(e,"m",(function(){return O})),t.d(e,"h",(function(){return k})),t.d(e,"i",(function(){return T})),t.d(e,"d",(function(){return R})),t.d(e,"f",(function(){return _}));var r=t(1),o=t(5),a=t(7),i=t(2);function c(n,e,t,r,o,a,i){try{var c=n[a](i),s=c.value}catch(n){return void t(n)}c.done?e(s):Promise.resolve(s).then(r,o)}function s(n){return function(){var e=this,t=arguments;return new Promise((function(r,o){var a=n.apply(e,t);function i(n){c(a,r,o,i,s,"next",n)}function s(n){c(a,r,o,i,s,"throw",n)}i(void 0)}))}}function u(){return(new r.a).ajaxWithoutData("GET","notebooks?sort_column=-Notebook.LastModifiedTime&offset=0&limit=100")}function l(){return new Promise(function(){var n=s(regeneratorRuntime.mark((function n(e,t){var o,a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=new r.a,n.next=3,o.ajaxWithoutData("GET","userprofile/accounts/status");case 3:a=n.sent,e(a);case 5:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())}function f(){return new Promise(function(){var n=s(regeneratorRuntime.mark((function n(e,t){var o,a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=new r.a,n.next=3,o.ajaxWithoutData("GET","userprofile");case 3:a=n.sent,e(a);case 5:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())}function d(n){return new Promise(function(){var e=s(regeneratorRuntime.mark((function e(t,o){var a,i,c,s,u,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("note/file"!==n.type){e.next=10;break}return e.next=3,S(n.fileUrl);case 3:return a=e.sent,e.next=6,E(n.notebook_id,a,"");case 6:i=e.sent,t(i),e.next=19;break;case 10:return c=new r.a,(s=new FormData).append("attachment",n.znml),u="notebooks/".concat(n.notebook_id,"/notecards"),n.notebook_id&&"undefined"!==n.notebook_id||(u="notecards"),e.next=17,c.ajaxWithData("POST",u,s);case 17:l=e.sent,t(l);case 19:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}())}function p(n,e,t,a){return new Promise(function(){var i=s(regeneratorRuntime.mark((function i(c,s){var u,l,f,d,p;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return u=new r.a,l=Object(o.f)(t),(f=new FormData).append("attachment",l,a),d="notebooks/".concat(n,"/notecards/").concat(e,"/resources"),i.next=7,u.ajaxWithData("POST",d,f);case 7:p=i.sent,c(p);case 9:case"end":return i.stop()}}),i)})));return function(n,e){return i.apply(this,arguments)}}())}function m(n,e,t){return new Promise(function(){var o=s(regeneratorRuntime.mark((function o(a,i){var c,s,u,l;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return c=new r.a,(s=new FormData).append("JSONString",JSON.stringify({reminders:[{type:"reminder/time",reminder_time:t,created_time:(new Date).getTime()}]})),u="notebooks/".concat(n,"/notecards/").concat(e,"/reminders"),o.next=6,c.ajaxWithData("POST",u,s);case 6:l=o.sent,a(l);case 8:case"end":return o.stop()}}),o)})));return function(n,e){return o.apply(this,arguments)}}())}function h(n){return new Promise(function(){var e=s(regeneratorRuntime.mark((function e(t,o){var a,i,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new r.a,i="tags/search?query=".concat(n,"&limit=5"),e.next=4,a.ajaxWithData("GET",i);case 4:c=e.sent,t(c);case 6:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}())}function v(n,e){return new Promise(function(){var t=s(regeneratorRuntime.mark((function t(o,a){var i,c,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=new r.a,"tags",(c=new FormData).append("JSONString",JSON.stringify({name:n,created_time:(new Date).getTime(),resource_id:e})),t.next=6,i.ajaxWithData("POST","tags",c);case 6:s=t.sent,o(s);case 8:case"end":return t.stop()}}),t)})));return function(n,e){return t.apply(this,arguments)}}())}function g(n){var e=n.sender,t=n.content,a=n.base64,i=n.imageName;return new Promise(function(){var n=s(regeneratorRuntime.mark((function n(c,s){var u,l,f,d;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=new r.a,"feedback",l=new FormData,a&&(f=Object(o.f)(a),l.append("attachment",f,i)),"Notebook - Chrome Extension Feedback",l.append("JSONString",JSON.stringify({subject:"Notebook - Chrome Extension Feedback",sender:e,content:t})),n.next=8,u.ajaxWithData("POST","feedback",l);case 8:d=n.sent,c(d);case 10:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())}function b(){return new Promise(function(){var n=s(regeneratorRuntime.mark((function n(e,t){var o,a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=new r.a,"logout",n.next=4,o.ajaxWithoutData("GET","logout",!0);case 4:a=n.sent,e(a);case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())}function y(n,e,t){return new Promise(function(){var o=s(regeneratorRuntime.mark((function o(a,i){var c,s,u,l;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return c=new r.a,s="notebooks/".concat(n,"/notecards/").concat(e),(u=new FormData).append("attachment",t),o.next=6,c.ajaxWithData("PUT",s,u);case 6:l=o.sent,a(l);case 8:case"end":return o.stop()}}),o)})));return function(n,e){return o.apply(this,arguments)}}())}function w(n,e,t){return new Promise(function(){var o=s(regeneratorRuntime.mark((function o(a,i){var c,s,u,l,f,d;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:for(c=[],s=0;s<t.length;s++)c.push(t[s].tag_id);return u=new r.a,l="notebooks/".concat(n,"/notecards/").concat(e,"/tags"),(f=new FormData).append("JSONString",JSON.stringify({tag_ids:c})),o.next=8,u.ajaxWithData("PUT",l,f);case 8:d=o.sent,a(d);case 10:case"end":return o.stop()}}),o)})));return function(n,e){return o.apply(this,arguments)}}())}function x(){return new Promise(function(){var n=s(regeneratorRuntime.mark((function n(e,t){var o,a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=new r.a,"tags?offset=0&limit=1000",n.next=4,o.ajaxWithData("GET","tags?offset=0&limit=1000");case 4:a=n.sent,e(a);case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())}function O(n,e){return new Promise((function(t,r){var o=[];e=e.toLowerCase(),n.map((function(n){n.name.toLowerCase().startsWith(e)&&o.push(n)})),t(JSON.stringify({code:200,tags:o}))}))}function k(){return new Promise(function(){var n=s(regeneratorRuntime.mark((function n(e,t){var r,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return"chromeClipper",(r=new XMLHttpRequest).onload=function(){e(this.responseText)},r.onerror=function(n){t(n)},r.open("GET","https://notebook.zoho.com/api/v1/announcements?last_announcement_time=1&platform=chromeClipper"),n.next=7,Object(i.c)("znbcsr");case 7:if(o=n.sent){n.next=11;break}return t(),n.abrupt("return");case 11:r.setRequestHeader("X-ZCSRF-TOKEN","znbrcsr="+o.znbcsr),r.send();case 13:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())}function S(n){return new Promise(function(){var e=s(regeneratorRuntime.mark((function e(t,o){var a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new r.a,e.next=3,a.ajaxWithoutData("GET",n,!1,!0);case 3:i=e.sent,t(i);case 5:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}())}function E(n,e,t){return new Promise(function(){var o=s(regeneratorRuntime.mark((function o(a,i){var c,s,u,l;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return c=new r.a,s=new FormData,u={name:"Untitled.pdf",notecard_name:"Untitled"},n&&"undefined"!==n&&(u.notebook_id=n),s.append("attachment",e,t||"Untitled.pdf"),s.append("JSONString",JSON.stringify(u)),"cards/file",o.next=9,c.ajaxWithData("POST","cards/file",s);case 9:l=o.sent,a(l);case 11:case"end":return o.stop()}}),o)})));return function(n,e){return o.apply(this,arguments)}}())}function T(){return new Promise(function(){var n=s(regeneratorRuntime.mark((function n(e,t){var o,c,s,u,l;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return(o=new r.a).setNoPrepend(!0),o.setResponseType("blob"),c=a.a.getTopLevelDomain(),n.next=6,Object(i.c)("userprofile");case 6:if((s=n.sent)&&s.userprofile){n.next=10;break}return e(void 0),n.abrupt("return");case 10:return u="https://contacts.zoho".concat(c,"/file?t=user&ID=").concat(s.userprofile.zuid,"&fs=thumb"),n.next=13,o.ajaxWithoutData("GET",u);case 13:l=n.sent,e(l);case 15:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())}function R(n){return new Promise(function(){var e=s(regeneratorRuntime.mark((function e(t,o){var a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new r.a).setResponseType("blob"),e.next=4,a.ajaxWithoutData("GET","covers/".concat(n,"/thumbnail?size=m"));case 4:i=e.sent,t(i);case 6:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}())}function _(n){return new Promise(function(){var e=s(regeneratorRuntime.mark((function e(t,o){var c,s,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(c=new r.a).setNoPrepend(!0),c.setResponseType("blob"),a.a.getTopLevelDomain(),e.next=6,Object(i.c)("userprofile");case 6:if((s=e.sent)&&s.userprofile){e.next=10;break}return t(void 0),e.abrupt("return");case 10:return e.next=12,c.ajaxWithoutData("GET",n);case 12:u=e.sent,t(u);case 14:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}())}},,function(n,e,t){"use strict";t.r(e),t.d(e,"default",(function(){return p}));var r=t(5);function o(n){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}function a(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function i(n,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n):e}function c(n){var e="function"==typeof Map?new Map:void 0;return(c=function(n){if(null===n||(t=n,-1===Function.toString.call(t).indexOf("[native code]")))return n;var t;if("function"!=typeof n)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(n))return e.get(n);e.set(n,r)}function r(){return s(n,arguments,f(this).constructor)}return r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),l(r,n)})(n)}function s(n,e,t){return(s=u()?Reflect.construct:function(n,e,t){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(n,r));return t&&l(o,t.prototype),o}).apply(null,arguments)}function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}function l(n,e){return(l=Object.setPrototypeOf||function(n,e){return n.__proto__=e,n})(n,e)}function f(n){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(n)}var d=document.createElement("template");d.innerHTML='<style>\n    .loading-wrap {\n        position: absolute;\n        top : 0;\n        left: 0;\n        right : 0;\n        bottom: 0;\n        width : 50px;\n        height: 6px;\n        margin: auto;\n    }\n\n    .loading-wrap .each-dot {\n        background-color: #000000;\n        position: absolute;\n        border-radius: 50%;\n        width: 7px;\n        height: 7px;\n\n        -webkit-animation: loading-dots 1.3s infinite;\n        -webkit-animation-fill-mode: both;\n\n        -o-animation: loading-dots 1.3s infinite;\n        -o-animation-fill-mode: both;\n\n        -moz-animation: loading-dots 1.3s infinite;\n        -moz-animation-fill-mode: both;\n\n        animation: loading-dots 1.3s infinite;\n        animation-fill-mode: both;\n    }\n\n    .loading-wrap.white-dots .each-dot,\n    #image-card-wrap .each-dot {\n        background-color: #FFFFFF;\n    }\n\n    #dot-one {\n        left : 0;\n        top : 0;\t\n    }\n\n    #dot-two {\n        left : 17px;\n        top : 0;\n        -o-animation-delay: 0.3s;\n        -moz-animation-delay: 0.3s;\n        -webkit-animation-delay: 0.3s;\n        animation-delay: 0.3s;\n    }\n\n    #dot-three {\n        left : 34px;\n        -o-animation-delay: 0.5s;\n        -moz-animation-delay: 0.5s;\n        -webkit-animation-delay: 0.5s;\n        animation-delay: 0.5s;\n    }\n\n    @keyframes loading-dots {\n        0% {\n            -webkit-transform: scale(1);\n        \t-moz-transform: scale(1);\n        \t-ms-transform: scale(1);\n        \t-o-transform: scale(1);\n        \ttransform: scale(1);\n        }\n        20% {\n            -webkit-transform: scale(1.3);\n        \t-moz-transform: scale(1.3);\n        \t-ms-transform: scale(1.3);\n        \t-o-transform: scale(1.3);\n        \ttransform: scale(1.3);\n        }\n        50% {\n            -webkit-transform: scale(1);\n        \t-moz-transform: scale(1);\n        \t-ms-transform: scale(1);\n        \t-o-transform: scale(1);\n        \ttransform: scale(1);\n        }\n    }\n\n</style>\n\n<div class="loading-wrap">\n    <div id="dot-one" class="each-dot">\n    </div>\n    <div id="dot-two" class="each-dot">\n    </div>\n    <div id="dot-three" class="each-dot">\n    </div>\n</div>';var p=function(n){!function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),e&&l(n,e)}(p,n);var e,t,r,o,c,s=(e=p,t=u(),function(){var n,r=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return i(this,n)});function p(){return function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,p),s.call(this)}return r=p,(o=[{key:"connectedCallback",value:function(){this.appendChild(d.content.cloneNode(!0));var n=document.getElementById("text-editor-wrap");if(n)if("#FFFFFF"===n.style.color||"rgb(255, 255, 255)"===n.style.color){var e=document.querySelector(".loading-wrap");e&&e.classList.add("white-dots")}else{var t=document.querySelector(".loading-wrap");t&&t.classList.remove("white-dots")}}}])&&a(r.prototype,o),c&&a(r,c),p}(c(HTMLElement));Object(r.u)("dots-loading",p)},function(n,e,t){"use strict";t.r(e);var r=t(0),o=t(5),a=t(6),i=t(3),c=t(2);t(11);function s(n){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}function u(n,e,t,r,o,a,i){try{var c=n[a](i),s=c.value}catch(n){return void t(n)}c.done?e(s):Promise.resolve(s).then(r,o)}function l(n){return function(){var e=this,t=arguments;return new Promise((function(r,o){var a=n.apply(e,t);function i(n){u(a,r,o,i,c,"next",n)}function c(n){u(a,r,o,i,c,"throw",n)}i(void 0)}))}}function f(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function d(n,e){return!e||"object"!==s(e)&&"function"!=typeof e?function(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n):e}function p(n){var e="function"==typeof Map?new Map:void 0;return(p=function(n){if(null===n||(t=n,-1===Function.toString.call(t).indexOf("[native code]")))return n;var t;if("function"!=typeof n)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(n))return e.get(n);e.set(n,r)}function r(){return m(n,arguments,g(this).constructor)}return r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),v(r,n)})(n)}function m(n,e,t){return(m=h()?Reflect.construct:function(n,e,t){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(n,r));return t&&v(o,t.prototype),o}).apply(null,arguments)}function h(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}function v(n,e){return(v=Object.setPrototypeOf||function(n,e){return n.__proto__=e,n})(n,e)}function g(n){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(n)}var b=document.createElement("template");b.innerHTML='<style>\n\n    #onboard-wrap {\n        position: absolute;\n        top: 0;\n        bottom: 0;\n        left: 0;\n        right: 0;\n        padding: 0 26px;\n        background-color: #F3F3F3;\n        display: none;\n    }\n\n    #onboard-header {\n        position: relative;\n        height: 46px;\n        margin: 12px 0px;\n    }\n\n    #onboard-header .inotebook.align {\n        position: absolute;\n        top: 0;\n        bottom: 0;\n        width: 24px;\n        height: 24px;\n        margin: auto;;\n    }\n\n    #onboard-title {\n        position: absolute;\n        left: 32px;\n        top: 11px;\n        font-size: 18px;\n        bottom: 5px;\n    }\n\n    #onboard-header .iclose.align {\n        position: absolute;\n        top: 0;\n        bottom: 0;\n        right: 0;\n        margin: auto;\n        width: 24px;\n        height: 24px;\n        background-position: -214px 0px;\n        cursor: pointer;\n    }\n\n    #onboard-body {\n        position: relative;\n        top: 4px;\n    }\n\n    #onboard-video {\n        position: relative;\n        left: 0;\n        right: 0;\n        height: 166px;\n        border-radius: 6px;\n        width: 100%;\n        margin-bottom: 12px;\n        border: none;\n        overflow: hidden;\n        border: 1px solid rgba(0, 0, 0, 0.15);\n    }\n\n    #onboard-description {\n        position: relative;\n        font-size: 23px;\n        line-height: 1.3;\n        padding: 10px 0 16px 0px;\n    }\n\n    #onboard-signup {\n        position: relative;\n        height: 42px;\n        font-size: 16px;\n        line-height: 41px;\n        border-radius: 6px;\n        color: white;\n        text-align: center;\n        background-color: #EA8100;\n        cursor: pointer;\n    }\n\n    #onboard-signin {\n        position: relative;\n        left: 4px;\n        font-size: 15px;\n        margin: 13px 0px;\n    }\n\n    #onboard-signin span {\n        cursor: pointer;\n        color : #588BD7;\n    }\n\n    #onboard-reader {\n        position: absolute;\n        left: 22px;\n        right: 22px;\n        top: 0;\n        bottom: 34px;\n        height: 42px;\n        line-height: 42px;\n        color: #212121;\n        background-color: #FFFFFF;\n        font-size: 15px;\n        margin: auto;\n        cursor: pointer;\n        padding-left: 8px;\n        border-radius: 8px;\n        transition: all 0.3s linear;\n    }\n\n    #onboard-reader:hover {\n        transform: translateY(-1px);\n        -webkit-box-shadow: -2px 11px 16px 7px rgba(0, 0, 0, 0.040);\n        -moz-box-shadow: -2px 11px 16px 7px rgba(0, 0, 0, 0.040);\n        box-shadow: -2px 11px 16px 7px rgba(0, 0, 0, 0.040);\n    }\n\n    #onboard-reader .ireader-view {\n        padding: 0 8px;\n    }\n\n    #china-option-wrap {\n        position: absolute;\n        bottom: -252px;\n        left: 50%;\n        width: 100%;\n        transform: translate(-50%, -50%);\n        background-color: #FFFFFF;\n        box-shadow: 0px 8px 16px rgba(0, 0, 0, 0.25);\n        font-family: "Source Sans Pro";\n        font-size: 18px;\n        transition: 0.2s ease all;\n        -moz-transition: 0.2s ease all;\n        -webkit-transition: 0.2s ease all;\n    }\n\n    .china-option {\n        padding: 16px 0;\n        text-align: center;\n        cursor: pointer;\n        border-bottom: 1px solid #e8e8e8;\n    }\n\n    .china-option:hover {\n        background-color: #E8E8E8;\n    }\n\n    #china-overlay {\n        position: absolute;\n        top: 0;\n        bottom: 0;\n        left: 0;\n        right: 0;\n        background-color: #000000;\n        opacity: 0.5;\n        display: none;\n    }\n\n    .china-header {\n        font-weight: 600;\n        cursor: initial;\n    }\n\n    .china-header:hover {\n        background-color: #FFFFFF;\n    }\n\n    #onboard-footer {\n        position: absolute;\n        left: 0;\n        bottom: 0;\n        right: 0;\n        height: 48px;\n    }\n\n    .ireader-view {\n        position: relative;\n        vertical-align: middle;\n        display: inline-block;\n    }\n\n    .loading-wrap {\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        width: 50px;\n        height: 6px;\n        margin: auto;\n        z-index: 999999991;\n    }\n\n    .loading-wrap .each-dot {\n        background-color: #000000;\n        position: absolute;\n        border-radius: 50%;\n        width: 7px;\n        height: 7px;\n\n        -webkit-animation: loading-dots 1.3s infinite;\n        -webkit-animation-fill-mode: both;\n\n        -o-animation: loading-dots 1.3s infinite;\n        -o-animation-fill-mode: both;\n\n        -moz-animation: loading-dots 1.3s infinite;\n        -moz-animation-fill-mode: both;\n\n        animation: loading-dots 1.3s infinite;\n        animation-fill-mode: both;\n    }\n\n    .night-mode .support-night-mode .each-dot {\n        background-color: #FFFFFF;\n    }\n\n    .loading-wrap.white-dots .each-dot {\n        background-color: #FFFFFF;\n    }\n\n    #dot-one {\n        left : 0;\n        top : 0;\t\n    }\n\n    #dot-two {\n        left : 17px;\n        top : 0;\n        -o-animation-delay: 0.3s;\n        -moz-animation-delay: 0.3s;\n        -webkit-animation-delay: 0.3s;\n        animation-delay: 0.3s;\n    }\n\n    #dot-three {\n        left : 34px;\n        -o-animation-delay: 0.5s;\n        -moz-animation-delay: 0.5s;\n        -webkit-animation-delay: 0.5s;\n        animation-delay: 0.5s;\n    }\n\n    @-webkit-keyframes loading-dots {\n        0% {\n            -webkit-transform: scale(1);\n        \t-moz-transform: scale(1);\n        \t-ms-transform: scale(1);\n        \t-o-transform: scale(1);\n        \ttransform: scale(1);\n        }\n        20% {\n            -webkit-transform: scale(1.3);\n        \t-moz-transform: scale(1.3);\n        \t-ms-transform: scale(1.3);\n        \t-o-transform: scale(1.3);\n        \ttransform: scale(1.3);\n        }\n        50% {\n            -webkit-transform: scale(1);\n        \t-moz-transform: scale(1);\n        \t-ms-transform: scale(1);\n        \t-o-transform: scale(1);\n        \ttransform: scale(1);\n        }\n    }\n\n    @-moz-keyframes loading-dots {\n        0% {\n            -webkit-transform: scale(1);\n        \t-moz-transform: scale(1);\n        \t-ms-transform: scale(1);\n        \t-o-transform: scale(1);\n        \ttransform: scale(1);\n        }\n        20% {\n            -webkit-transform: scale(1.3);\n        \t-moz-transform: scale(1.3);\n        \t-ms-transform: scale(1.3);\n        \t-o-transform: scale(1.3);\n        \ttransform: scale(1.3);\n        }\n        50% {\n            -webkit-transform: scale(1);\n        \t-moz-transform: scale(1);\n        \t-ms-transform: scale(1);\n        \t-o-transform: scale(1);\n        \ttransform: scale(1);\n        }\n    }\n\n    @-o-keyframes loading-dots {\n        0% {\n            -webkit-transform: scale(1);\n        \t-moz-transform: scale(1);\n        \t-ms-transform: scale(1);\n        \t-o-transform: scale(1);\n        \ttransform: scale(1);\n        }\n        20% {\n            -webkit-transform: scale(1.3);\n        \t-moz-transform: scale(1.3);\n        \t-ms-transform: scale(1.3);\n        \t-o-transform: scale(1.3);\n        \ttransform: scale(1.3);\n        }\n        50% {\n            -webkit-transform: scale(1);\n        \t-moz-transform: scale(1);\n        \t-ms-transform: scale(1);\n        \t-o-transform: scale(1);\n        \ttransform: scale(1);\n        }\n    }\n\n    @keyframes loading-dots {\n        0% {\n            -webkit-transform: scale(1);\n        \t-moz-transform: scale(1);\n        \t-ms-transform: scale(1);\n        \t-o-transform: scale(1);\n        \ttransform: scale(1);\n        }\n        20% {\n            -webkit-transform: scale(1.3);\n        \t-moz-transform: scale(1.3);\n        \t-ms-transform: scale(1.3);\n        \t-o-transform: scale(1.3);\n        \ttransform: scale(1.3);\n        }\n        50% {\n            -webkit-transform: scale(1);\n        \t-moz-transform: scale(1);\n        \t-ms-transform: scale(1);\n        \t-o-transform: scale(1);\n        \ttransform: scale(1);\n        }\n    }\n\n    /* #app-loading {\n        display: none;\n    } */\n\n</style>\n\n<div id="app-loading" class="loading-wrap">\n    <div id="dot-one" class="each-dot">\n    </div>\n    <div id="dot-two" class="each-dot">\n    </div>\n    <div id="dot-three" class="each-dot">\n    </div> \n</div>\n\n<div id="onboard-wrap">\n    <div id="onboard-header">\n        <div class="inotebook align"></div>\n        <div id="onboard-title">Notebook</div>\n        <div id="close-app" class="iclose align"></div>\n    </div>\n    <div id="onboard-body">\n        <div id="onboard-description">\n            Clip the Web.<br>\n            Save to Notebook.\n        </div>\n        <div id="onboard-signup">\n            Sign up\n        </div>\n        <div id="onboard-signin">\n            Already have a Zoho account? <span>Sign In</span>\n        </div>\n    </div>\n    <div id="onboard-footer">\n        <div id="onboard-reader">\n            <div class="ireader-view"></div>\n            Reader View\n        </div>\n    </div>\n    <div id="china-overlay"></div>\n        <div id="china-option-wrap">\n        <div class="china-header china-option">\n            Where do you want to sign-in?\n        </div>\n        <div class="china-option" id="normal-login">\n            Zoho\n        </div>\n        <div class="china-option" id="china-login">\n            Zoho China\n        </div>\n    </div>\n</div>\n\n\x3c!-- <link href="../../assets/icons/settings.ttf" rel="stylesheet" type="text/css">\n<link href="../../assets/icons/close.ttf" rel="stylesheet" type="text/css">\n<link href="../../assets/icons/bookmark.ttf" rel="stylesheet" type="text/css">\n<link href="../../assets/icons/screenshot.ttf" rel="stylesheet" type="text/css">\n<link href="../../assets/icons/reader.ttf" rel="stylesheet" type="text/css"> --\x3e';var y=function(n){!function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),e&&v(n,e)}(x,n);var e,t,s,u,p,m,y,w=(e=x,t=h(),function(){var n,r=g(e);if(t){var o=g(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d(this,n)});function x(){var n;return function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,x),(n=w.call(this)).eventListeners=[],n}return s=x,(u=[{key:"connectedCallback",value:(y=l(regeneratorRuntime.mark((function n(){var e=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:this.appendChild(b.content.cloneNode(!0)),this.initLogin(),a.a.addListener("OnBoarding",this.querySelector("#onboard-signin"),"click",this.signin.bind(this)),a.a.addListener("OnBoarding",this.querySelector("#onboard-signup"),"click",this.signup.bind(this)),a.a.addListener("OnBoarding",this.querySelector("#onboard-reader"),"click",(function(){parent.postMessage({action:"openReaderView",mode:"GUEST"},"*")})),a.a.addListener("OnBoarding",this.querySelector("#close-app"),"click",this.closeApp.bind(this)),eventer(messageEvent,function(){var n=l(regeneratorRuntime.mark((function n(e){var t,r,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t=e.data){n.next=3;break}return n.abrupt("return");case 3:n.t0=t.action,n.next="hideLoading"===n.t0?6:"contextReaderView"===n.t0?8:"contextLinkCard"===n.t0||"contextScreenshot"===n.t0||"contextTextSelection"===n.t0?13:18;break;case 6:return this.hideLoading(),n.abrupt("break",18);case 8:return n.next=10,Object(c.c)("znbcsr");case 10:return(r=n.sent)&&r.znbcsr?this.showMainPage({"context-action":t.action,"context-data":JSON.stringify(t.detail)}):parent.postMessage({action:"openReaderView",mode:"GUEST"},"*"),n.abrupt("break",18);case 13:return n.next=15,Object(c.c)("znbcsr");case 15:return(o=n.sent)&&o.znbcsr&&this.showMainPage({"context-action":t.action,"context-data":JSON.stringify(t.detail)}),n.abrupt("break",18);case 18:case"end":return n.stop()}}),n,this)})));return function(e){return n.apply(this,arguments)}}().bind(this)),a.a.addListener("OnBoarding",window,"signoutApp",(function(n){e.signOut()}));case 8:case"end":return n.stop()}}),n,this)}))),function(){return y.apply(this,arguments)})},{key:"showClipperEmbedVideo",value:function(){var n=document.createElement("iframe");n.id="onboard-video",n.classList.add("shell-loading"),n.src="https://www.youtube.com/embed/WDt1R8rb_D4",n.async=!0;var e=this.querySelector("#onboard-body");e&&e.prepend(n)}},{key:"showMainPage",value:function(n){window.dispatchEvent(new CustomEvent("removeComponentByName",{detail:{componentName:"on-boarding"}})),window.dispatchEvent(new CustomEvent("addComponent",{detail:{componentName:"main-page",attributes:n,parentElement:document.body}}))}},{key:"closeApp",value:function(){parent.postMessage({action:"closeApp"},"*")}},{key:"signin",value:function(n){Object(o.p)()?this.showChinaOption():this.openLoginPopup(n)}},{key:"signup",value:function(n){Object(o.p)()?this.showChinaOption():this.openSignupPopup(n)}},{key:"openLoginPopup",value:function(n){var e=this,t=".com";n&&"china-login"===n.target.id&&(t=".com.cn"),r.f.sendMessage({action:i.a.SIGN_IN,data:{TLD:t}},(function(n){Object(o.q)(n.code)&&e.showMainPage()})),r.f.sendMessage({action:i.a.SEND_ANALYTICS,data:{category:"NOTEBOOK",action:"SIGN_IN"}})}},{key:"openSignupPopup",value:function(n){var e=this,t=".com";n&&"china-login"===n.target.id&&(t=".com.cn"),r.f.sendMessage({action:i.a.SIGN_UP,data:{TLD:t}},(function(n){Object(o.q)(n.code)&&e.showMainPage()})),r.f.sendMessage({action:i.a.SEND_ANALYTICS,data:{category:"NOTEBOOK",action:"SIGN_UP"}})}},{key:"showChinaOption",value:function(){var n=this.querySelector("#china-option-wrap"),e=this.querySelector("#china-overlay");n&&(n.style.bottom="-84px"),e&&(e.style.display="block"),a.a.addListener("OnBoarding",e,"click",this.hideChinaOption.bind(this));var t=this.querySelector("#normal-login"),r=this.querySelector("#china-login");a.a.addListener("OnBoarding",e,"click",this.hideChinaOption.bind(this)),a.a.addListener("OnBoarding",t,"click",this.openLoginPopup.bind(this)),a.a.addListener("OnBoarding",r,"click",this.openLoginPopup.bind(this))}},{key:"hideChinaOption",value:function(){var n=this.querySelector("#china-option-wrap"),e=this.querySelector("#china-overlay");n&&(n.style.bottom="-252px"),e&&(e.style.display="none")}},{key:"disconnectedCallback",value:function(){}},{key:"hideLoading",value:function(){var n=this.querySelector("#app-loading");n&&(n.style.display="none");var e=this.querySelector("#onboard-wrap");e&&(e.style.display="block")}},{key:"showLoading",value:function(){var n=this.querySelector("#app-loading");n&&(n.style.display="block");var e=this.querySelector("#onboard-wrap");e&&(e.style.display="none")}},{key:"initLogin",value:(m=l(regeneratorRuntime.mark((function n(){var e,t=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(c.c)(["znbcsr","onOpenServerHit","getLoginStatusInProgress","isFirstInstall"]);case 2:if(!(e=n.sent)||!e.isFirstInstall){n.next=9;break}return this.hideLoading(),this.showClipperEmbedVideo(),n.abrupt("return");case 9:e&&e.onOpenServerHit?r.f.sendMessage({action:i.a.GET_LOGIN_STATUS},(function(n){Object(o.q)(n)?t.showMainPage():(t.hideLoading(),t.showClipperEmbedVideo())})):e&&e.getLoginStatusInProgress?(this.showLoading(),setTimeout(l(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t.initLogin();case 1:case"end":return n.stop()}}),n)}))),500)):e&&e.znbcsr?this.showMainPage():(this.hideLoading(),this.showClipperEmbedVideo());case 10:case"end":return n.stop()}}),n,this)}))),function(){return m.apply(this,arguments)})},{key:"signOut",value:function(){r.f.sendMessage({action:i.a.SIGN_OUT},l(regeneratorRuntime.mark((function n(){var e;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(c.c)(["showPdf","meetingNote","analyticsShown"]);case 2:return e=n.sent,r.e.clear(),n.next=6,Object(c.g)(e);case 6:window.dispatchEvent(new CustomEvent("removeComponentByName",{detail:{componentName:"main-page"}})),window.dispatchEvent(new CustomEvent("removeComponentByName",{detail:{componentName:"text-note-editor"}})),window.dispatchEvent(new CustomEvent("removeComponentByName",{detail:{componentName:"image-card"}})),window.dispatchEvent(new CustomEvent("removeComponentByName",{detail:{componentName:"bookmark-card"}})),window.dispatchEvent(new CustomEvent("addComponent",{detail:{componentName:"on-boarding",parentElement:document.body}}));case 11:case"end":return n.stop()}}),n)}))))}}])&&f(s.prototype,u),p&&f(s,p),x}(p(HTMLElement));customElements.define("on-boarding",y)}]);